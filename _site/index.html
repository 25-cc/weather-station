<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    
    <!-- http://getbootstrap.com/docs/5.3/ -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    <!-- JQuery -->
    <script src="/static/jquery-3.7.1.min.js" type="text/javascript"></script>
    
    <link href="/assets/images/favicon.png" rel="icon" type="image/png">
    
    <link href="/static/styles.css" rel="stylesheet">
    
    <title>Home</title>
    
</head>
<body>
    
    <nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar w/ text</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <button class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            Forecasts
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Today</a></li>
                            <li><a class="dropdown-item" href="#">Tomorrow</a></li>
                        </ul>
                    </li>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Parks</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about.html">About</a>
                </li>
            </ul>
            <span class="navbar-text" id = "coords">
                ðŸŒ³ 
            </span>
        </div>
    </div>
</nav>


<main class="container py-5 text-center">
    <div class="container text-center">
    <div class="row">
        <div class="col">
            <!-- Current weather forecast (next 2h)-->
            <!-- APIs: https://data.gov.sg/collections/1456/view -->
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid">
                    <h1 class="display-5 fw-bold">Current weather</h1>
                    <p>
                        current_weather
                    </p>
                </div>
            </div>
        </div>
        <div class="col">
            <!-- Wet bulb temperature and heat stress -->
            <!-- https://data.gov.sg/datasets/d_87884af1f85d702d4f74c6af13b4853d/view-->
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid">
                    <h1 class="display-5 fw-bold">Wet bulb temperature and heat stress</h1>
                    <p>
                        Using a series of utilities, you can create this jumbotron, just
                        like the one in previous versions of Bootstrap. Check out the
                        examples below for how you can remix and restyle it to your
                        liking.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <!-- UV Index -->
            <!-- https://data.gov.sg/datasets/d_1b676cd174a9af4704fdb3f9aa58ff5e/view -->
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid">
                    <h1 class="display-5 fw-bold">UV Index</h1>
                    <p>
                        Using a series of utilities, you can create this jumbotron, just
                        like the one in previous versions of Bootstrap. Check out the
                        examples below for how you can remix and restyle it to your
                        liking.
                    </p>
                </div>
            </div>
        </div>
        <div class="col">
            <!-- Air pollution -->
            <!-- PM2.5 API: https://data.gov.sg/datasets/d_e1058d6974c877257e32048ab128ad83/view -->
            <!-- PSI API: https://data.gov.sg/datasets/d_fe37906a0182569d891506e815e819b7/view -->
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid">
                    <h1 class="display-5 fw-bold">Air pollution</h1>
                    <p>
                        Using a series of utilities, you can create this jumbotron, just
                        like the one in previous versions of Bootstrap. Check out the
                        examples below for how you can remix and restyle it to your
                        liking.
                    </p>
                </div>
            </div>
        </div>
        <div class="col">
            <!-- Other weather readings -->
            <!-- APIs: https://data.gov.sg/collections/1459/view -->
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid">
                    <h1 class="display-5 fw-bold">Other readings</h1>
                    <p>
                        Using a series of utilities, you can create this jumbotron, just
                        like the one in previous versions of Bootstrap. Check out the
                        examples below for how you can remix and restyle it to your
                        liking.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container text-center">
    <div class="row row-cols-2">
        <!-- Cards to bring the user to today's and tomorrow's forecasts on separate pages-->
        <div class="col">
            <div class="card w-90">
                <img src="/assets/images/botanics.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Today's forecast</h5>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the cardâ€™s content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card w-90">
                <img src="/assets/images/botanics.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Tomorrow's forecast</h5>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the cardâ€™s content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- List of parks -->
<!-- APIs: 
NEA Parks https://data.gov.sg/datasets/d_0542d48f0991541706b58059381a6eca/view
NEA Park Facilities https://data.gov.sg/datasets/d_14d807e20158338fd578c2913953516e/view
HPB Parks@SG https://data.gov.sg/datasets/d_99b71f5d34cf57a3a592fbfdef1f42b6/view
-->
</main>
<footer class="pt-5 my-5 text-body-secondary border-top text-center">
    25-cc &copy; 2025 
</footer>
<script>
    let x;
    function getLocation() {
        if (navigator.geolocation) {
            console.log(`navigator.geolocation successful`);
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else { 
            console.log(`Geolocation is not supported by this browser`);
            // window.location.replace(`/?location_data=Error`);
        }
    }
    
    function showPosition(position) {
        let lat = position.coords.latitude
        let lon = position.coords.longitude
        console.log(`${lat} ${lon}`)
        // window.location.replace(`/?location_data=Success&lat=${lat}&lon=${lon}`)
    }
    
    function showError(error) {
        console.log("Error in retrieving location");
        switch(error.code) {
            case error.PERMISSION_DENIED:
            x = "User denied the request for Geolocation."
            break;
            case error.POSITION_UNAVAILABLE:
            x = "Location information is unavailable."
            break;
            case error.TIMEOUT:
            x = "The request to get user location timed out."
            break;
            case error.UNKNOWN_ERROR:
            x = "An unknown error occurred."
            break;
        }
        console.log(x);
        // window.location.replace(`/?location_data=Error`)
    }
    
    getLocation();
</script>
</body>
</html>